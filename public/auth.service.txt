// Auth.service.ts

// Kirjautuessa token päivitetään authStoreen

  login(credentials: { email: string; password: string }): Observable<any> {
    return this.http
      .post<{ token: string; user: User }>(`${this.apiUrl}/login`, credentials)
      .pipe(
        tap((res) => {
          this.authStore.setToken(res.token);
          this.userStore.setUser(res.user);
        }),
      );
  }
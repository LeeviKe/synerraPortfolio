// Main-layout.component.ts

 ngOnInit(): void {
    this.showLoadingPage = true;

    // Updates the userStore to have the most recent user data (basically for confirming that recently created account will load).
    this.userService.getMe().subscribe({
      next: (res) => {
        this.userStore.setUser(res);
        this.loggedInUser = res;

        this.userService.initUsersOnlineStatus();
        // Checks for every possible login and load case where the user might be at the dashboard. To access the dashboard,
        // user must have authToken that is given when logging in with email. (this is being checked with authStore in app.routes)
        if (this.loggedInUser && !this.loggedInUser.Username) {
          this.showLoadingPage = false;
          console.log('No profile created');
          this.router.navigate(['/profile-creation']);
        }
      },
      error: (err) => {
        console.log('error loading userdata', err);
      },
      complete: () => {
        console.log('profile loaded succesfully!');
        this.showLoadingPage = false;
      },
    });
  }